


> adb shell am start --activity-clear-task -a android.settings.MANAGE_UNKNOWN_APP_SOURCES

> adb shell dumpsys device_policy


adb install -r xxx.apk //覆盖安装，保留数据和缓存文件
adb install -s xxx.apk //安装apk到sd卡
adb install -f xxx.apk //安装apk到内部系统内存
adb install -d xxx.apk //安装低版本Apk
adb install -g xxx.apk //准许Apk manifest中的所有权限


问题：
app/build/outputs/apk/debug$ adb install app-debug.apk
Performing Streamed Install
adb: failed to install app-debug.apk: Failure [INSTALL_FAILED_TEST_ONLY: installPackageLI]


反编译当前apk发现的确清单文件中的确新加了这个属性，研究发现原来是Android Studio 3.0会在debug apk的manifest文件application标签里自动添加 android:testOnly="true"属性，导致IDE中run跑出的apk在大部分手机上只能用adb install -t 来安装。

解决方法一
在项目中的gradle.properties全局配置中设置：

android.injected.testOnly=false
1
解决方法二，加 -t ：　
adb install -t app-debug.apk
